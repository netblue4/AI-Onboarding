<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Onboarding Procedure</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
   <div class="steps-container">
        <div class="role-selection-container">
            <label for="dimension-dropdown">Select Trust Dimension:</label>
            <select id="dimension-dropdown">
                <option value="">All Trust Dimensions</option>
                <option value="Compliance">Compliance</option>
                <option value="Risk Management System">Risk Management System</option>
                <option value="Data and Data Governance">Data and Data Governance</option>
                <option value="Technical Documentation">Technical Documentation</option>
                <option value="Record-Keeping">Record-Keeping</option>
                <option value="Transparency and Provision of Information">Transparency and Provision of Information</option>
                <option value="Human Oversight">Human Oversight</option>
                <option value="Cybersecurity & Resilience">Cybersecurity & Resilience</option>
                <option value="Intended Use">Intended Use</option>
                <option value="Job Preservation">Job Preservation</option>
                <option value="Fairness and Bias">Fairness and Bias</option>
            </select>
        </div>
        <div class="role-selection-container">
            <label for="role-dropdown">Select Your Role:</label>
            <select id="role-dropdown">
                <option value="">All Roles</option>
                <option value="Requester">Requester</option>
                <option value="Engineer">Engineer</option> 
                <option value="Data Engineer">Data Engineer</option> 
                <option value="Compliance">Compliance</option>
                <option value="Tester">Tester</option> 
                <option value="Approver">Approver</option> 
                <option value="Deployment Engineer">Deployment Engineer</option> 
                <option value="Incident Manager">Incident Manager</option> 
                <option value="Operation & Monitoring Engineer">Operation & Monitoring Engineer</option> 
            </select>
        </div>
        <div class="progress-wrapper">
            <div class="progress-container">
                <div id="progress-bar"></div>
            </div>
            <div id="progress-text"></div>
        </div>
       <h1 id="steps-title">Steps</h1>
       <div id="step-container"></div>
   </div>
    
    <div class="container">
        <h1 id="main-title">Loading...</h1>
        <div id="form-container"></div>
        <div class="button-container">
            <button id="prev-btn" style="display: none;">Previous</button>
            <button id="next-btn">Next</button>
            <button id="download-btn" style="display: none;">Download JSON</button>
        </div>
    </div>

    <script src="scripts/fieldHandler_note.js"></script>
    <script src="scripts/fieldHandler_autoGenerated.js"></script>
    <script src="scripts/fieldHandler_textBox.js"></script>
    <script src="scripts/fieldHandler_decision.js"></script>
    <script src="scripts/fieldHandler_dropdown.js"></script>
    <script src="scripts/fieldHandler_optionBox.js"></script>
    <script src="scripts/fieldHandler_label.js"></script>
    <script src="scripts/fieldHandler_risk.js"></script>
    <script src="scripts/fieldHandler_objective.js"></script>
    <script src="scripts/fieldHandler_multiselect.js"></script> 
    <script src="scripts/fieldHandler_plan.js"></script> 
    

    <script src="scripts/fieldFactory.js"></script>
    

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        fetch('ai_onboarding_procedure_data.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Network response was not ok: ${response.statusText}`);
                }
                return response.json();
            })
            .then(webappData => {
                const formContainer = document.getElementById('form-container');
                const prevBtn = document.getElementById('prev-btn');
                const nextBtn = document.getElementById('next-btn');
                const downloadBtn = document.getElementById('download-btn');
                const mainTitle = document.getElementById('main-title');
                const progressBar = document.getElementById('progress-bar');
                const progressText = document.getElementById('progress-text');
                const stepContainer = document.getElementById('step-container');
                const roleDropdown = document.getElementById('role-dropdown'); 
                const dimensionDropdown = document.getElementById('dimension-dropdown'); 

                // Store the original procedure data structure
                const originalWebappData = webappData;
                
                let procedureDataArray = [];
                let procedureSteps = [];